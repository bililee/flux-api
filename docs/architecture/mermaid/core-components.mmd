graph TD
    %% Â∫îÁî®Â±Ç
    subgraph AppLayer["`üöÄ **Â∫îÁî®ÊúçÂä°Â±Ç**`"]
        FluxAPI["`‚ö° **Flux API**
        Spring WebFlux
        ÂèçÂ∫îÂºèÊû∂ÊûÑ`"]
    end
    
    %% ÁΩëÂÖ≥Â±Ç
    subgraph GatewayLayer["`üö™ **APIÁΩëÂÖ≥**`"]
        APISIX["`üéØ **Apache APISIX**
        - Âä®ÊÄÅË∑ØÁî±
        - ËÆ§ËØÅÊéàÊùÉ  
        - ÈôêÊµÅÁÜîÊñ≠`"]
    end
    
    %% ÁºìÂ≠òÂ±Ç
    subgraph CacheLayer["`üì¶ **ÁºìÂ≠òÂ±Ç**`"]
        LocalCache["`üíæ **Êú¨Âú∞ÁºìÂ≠ò**
        Caffeine`"]
        Redis["`üî¥ **Redis**
        ÂàÜÂ∏ÉÂºèÁºìÂ≠ò`"]
    end
    
    %% Êï∞ÊçÆÂ∫ìÂ±Ç
    subgraph DatabaseLayer["`üíæ **Êï∞ÊçÆÂ∫ì**`"]
        PostgreSQL["`üêò **PostgreSQL**
        ‰∏ª‰∏öÂä°Êï∞ÊçÆÂ∫ì`"]
        MongoDB["`üçÉ **MongoDB**
        ÊñáÊ°£Â≠òÂÇ®`"]
    end
    
    %% ‰ªªÂä°Ë∞ÉÂ∫¶
    subgraph JobLayer["`‚è∞ **‰ªªÂä°Ë∞ÉÂ∫¶**`"]
        XXLJob["`üìã **XXL-Job**
        ÂàÜÂ∏ÉÂºè‰ªªÂä°Ë∞ÉÂ∫¶`"]
    end
    
    %% ÁõëÊéßAPM
    subgraph MonitoringLayer["`üìä **ÁõëÊéßAPM**`"]
        PumiAPM["`üîç **ÊôÆÁ±≥APM**
        Â∫îÁî®ÊÄßËÉΩÁõëÊéß`"]
        Prometheus["`üìà **Prometheus**
        ÊåáÊ†áÊî∂ÈõÜ`"]
        Grafana["`üìä **Grafana**
        ÂèØËßÜÂåñÈù¢Êùø`"]
    end
    
    %% ÈÖçÁΩÆ‰∏≠ÂøÉ
    subgraph ConfigLayer["`‚öôÔ∏è **ÈÖçÁΩÆ‰∏≠ÂøÉ**`"]
        Nacos["`üéõÔ∏è **Nacos**
        ÈÖçÁΩÆÁÆ°ÁêÜ`"]
    end
    
    %% Â§ñÈÉ®‰æùËµñ
    subgraph ExternalLayer["`üåê **Â§ñÈÉ®ÊúçÂä°**`"]
        DataProvider["`üìä **Êï∞ÊçÆÊúçÂä°ÂïÜ**
        ÂÆûÊó∂Êï∞ÊçÆAPI`"]
    end
    
    %% ËøûÊé•ÂÖ≥Á≥ª
    APISIX --> FluxAPI
    FluxAPI --> LocalCache
    FluxAPI --> Redis
    FluxAPI --> PostgreSQL
    FluxAPI --> MongoDB
    FluxAPI --> DataProvider
    
    XXLJob --> FluxAPI
    XXLJob --> PostgreSQL
    
    FluxAPI --> PumiAPM
    FluxAPI --> Prometheus
    Prometheus --> Grafana
    
    Nacos --> FluxAPI
    
    %% Ê†∑Âºè
    classDef appStyle fill:#e8eaf6,stroke:#3f51b5,stroke-width:3px
    classDef gatewayStyle fill:#fff8e1,stroke:#f57f17,stroke-width:2px
    classDef cacheStyle fill:#fce4ec,stroke:#c2185b,stroke-width:2px
    classDef dbStyle fill:#e1f5fe,stroke:#01579b,stroke-width:2px
    classDef jobStyle fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    classDef monitoringStyle fill:#e0f2f1,stroke:#00695c,stroke-width:2px
    classDef configStyle fill:#f1f8e9,stroke:#689f38,stroke-width:2px
    classDef externalStyle fill:#efebe9,stroke:#5d4037,stroke-width:2px
    
    class FluxAPI appStyle
    class APISIX gatewayStyle
    class LocalCache,Redis cacheStyle
    class PostgreSQL,MongoDB dbStyle
    class XXLJob jobStyle
    class PumiAPM,Prometheus,Grafana monitoringStyle
    class Nacos configStyle
    class DataProvider externalStyle