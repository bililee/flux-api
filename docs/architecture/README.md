# é¡¹ç›®æ¶æ„å›¾è¯´æ˜

æœ¬é¡¹ç›®åŒ…å«4ä¸ªæ ¸å¿ƒæ¶æ„å›¾ï¼Œå…¨é¢å±•ç¤ºç³»ç»Ÿè®¾è®¡å’Œéƒ¨ç½²ç»“æ„ã€‚

## ğŸ“Š æ¶æ„å›¾åˆ—è¡¨

1. **ç”Ÿäº§éƒ¨ç½²æ¶æ„å›¾** (`deployment-architecture.svg`)
   - å®Œæ•´çš„ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²æ‹“æ‰‘
   - åŒ…å«APISIXç½‘å…³ã€XXL-Jobã€æ™®ç±³APMç­‰ä¼ä¸šçº§ç»„ä»¶
   - K8sé›†ç¾¤ã€ç›‘æ§ã€æ•°æ®åº“ã€ç¼“å­˜ç­‰å®Œæ•´åŸºç¡€è®¾æ–½

2. **æ ¸å¿ƒç»„ä»¶æ¶æ„å›¾** (`core-architecture.svg`)
   - ç®€åŒ–çš„æ ¸å¿ƒç»„ä»¶å…³ç³»
   - çªå‡ºä¸»è¦æŠ€æœ¯æ ˆå’Œä¾èµ–å…³ç³»

3. **ä¸šåŠ¡æµç¨‹å›¾** (`business-flow.svg`)
   - æ ¸å¿ƒä¸šåŠ¡å¤„ç†æµç¨‹
   - ç¼“å­˜ç­–ç•¥ã€é™çº§æœºåˆ¶ã€ç›‘æ§åŸ‹ç‚¹

4. **è¯¦ç»†ç³»ç»Ÿæ¶æ„å›¾** (`detailed-system-architecture.svg`)
   - å®Œæ•´çš„ç³»ç»Ÿåˆ†å±‚æ¶æ„
   - æ‰€æœ‰ç»„ä»¶å’Œæ•°æ®æµå‘

## ğŸ¨ æ¶æ„å›¾ç‰¹è‰²

### æŠ€æœ¯ç‰¹è‰²
- **ååº”å¼æ¶æ„**: Spring WebFlux + Project Reactor
- **å¤šå±‚ç¼“å­˜**: æœ¬åœ°ç¼“å­˜ + Redis + é™çº§ç¼“å­˜
- **APIç½‘å…³**: Apache APISIXç»Ÿä¸€å…¥å£
- **ä»»åŠ¡è°ƒåº¦**: XXL-Jobåˆ†å¸ƒå¼ä»»åŠ¡
- **APMç›‘æ§**: æ™®ç±³æŒ‡æ ‡ + Prometheus + Grafana
- **æœåŠ¡æ²»ç†**: é…ç½®ä¸­å¿ƒ + æœåŠ¡å‘ç°

### éƒ¨ç½²ç‰¹è‰²
- **å®¹å™¨åŒ–éƒ¨ç½²**: Kubernetes + Docker
- **é«˜å¯ç”¨æ¶æ„**: å¤šå‰¯æœ¬ + è‡ªåŠ¨ä¼¸ç¼©
- **ç›‘æ§å®Œå¤‡**: æŒ‡æ ‡ç›‘æ§ + é“¾è·¯è¿½è¸ª + æ—¥å¿—åˆ†æ
- **å®‰å…¨é˜²æŠ¤**: WAF + APIç½‘å…³ + ç½‘ç»œéš”ç¦»

## ğŸ“ æ–‡ä»¶ç»“æ„

```
docs/
â”œâ”€â”€ architecture/
â”‚   â”œâ”€â”€ README.md                    # æœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ mermaid/                     # Mermaidæºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ deployment.mmd
â”‚   â”‚   â”œâ”€â”€ core-components.mmd
â”‚   â”‚   â”œâ”€â”€ business-flow.mmd
â”‚   â”‚   â””â”€â”€ detailed-system.mmd
â”‚   â”œâ”€â”€ svg/                         # SVGè¾“å‡ºæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ deployment-architecture.svg
â”‚   â”‚   â”œâ”€â”€ core-architecture.svg
â”‚   â”‚   â”œâ”€â”€ business-flow.svg
â”‚   â”‚   â””â”€â”€ detailed-system-architecture.svg
â”‚   â””â”€â”€ scripts/
â”‚       â”œâ”€â”€ generate-svg.sh          # SVGç”Ÿæˆè„šæœ¬
â”‚       â””â”€â”€ mermaid-cli.json         # Mermaidé…ç½®
```

## ğŸ”„ SVGç”Ÿæˆæ–¹æ³•

### æ–¹æ³•1: ä½¿ç”¨Mermaid CLI (æ¨è)

```bash
# å®‰è£…Mermaid CLI
npm install -g @mermaid-js/mermaid-cli

# ç”Ÿæˆå•ä¸ªSVG
mmdc -i docs/architecture/mermaid/deployment.mmd -o docs/architecture/svg/deployment-architecture.svg

# æ‰¹é‡ç”Ÿæˆæ‰€æœ‰SVG
cd docs/architecture/scripts && ./generate-svg.sh
```

### æ–¹æ³•2: ä½¿ç”¨åœ¨çº¿ç¼–è¾‘å™¨

1. è®¿é—® [Mermaid Live Editor](https://mermaid.live/)
2. å¤åˆ¶Mermaidä»£ç åˆ°ç¼–è¾‘å™¨
3. ç‚¹å‡»"Download SVG"ä¸‹è½½

### æ–¹æ³•3: ä½¿ç”¨VS Codeæ’ä»¶

1. å®‰è£…"Mermaid Preview"æ’ä»¶
2. æ‰“å¼€.mmdæ–‡ä»¶
3. å³é”®é€‰æ‹©"Export to SVG"

## âš™ï¸ é…ç½®æ–‡ä»¶

Mermaid CLIé…ç½® (`mermaid-cli.json`):
```json
{
  "theme": "default",
  "width": 1920,
  "height": 1080,
  "backgroundColor": "white",
  "configFile": "config.json"
}
```

## ğŸ“‹ ä½¿ç”¨è¯´æ˜

1. **å¼€å‘å›¢é˜Ÿ**: å‚è€ƒæ¶æ„å›¾ç†è§£ç³»ç»Ÿè®¾è®¡å’Œä»£ç ç»“æ„
2. **è¿ç»´å›¢é˜Ÿ**: åŸºäºéƒ¨ç½²æ¶æ„å›¾è¿›è¡Œç¯å¢ƒè§„åˆ’å’Œç›‘æ§é…ç½®  
3. **äº§å“å›¢é˜Ÿ**: é€šè¿‡ä¸šåŠ¡æµç¨‹å›¾äº†è§£ç³»ç»Ÿèƒ½åŠ›å’Œç”¨æˆ·ä½“éªŒ
4. **æ¶æ„å¸ˆ**: ä½¿ç”¨è¯¦ç»†æ¶æ„å›¾è¿›è¡ŒæŠ€æœ¯å†³ç­–å’Œæ‰©å±•è§„åˆ’

## ğŸ”„ æ›´æ–°ç»´æŠ¤

- æ¶æ„å›¾åº”ä¸ä»£ç åŒæ­¥æ›´æ–°
- é‡å¤§æ¶æ„å˜æ›´éœ€è¦åŒæ­¥æ›´æ–°æ–‡æ¡£
- å»ºè®®æ¯ä¸ªè¿­ä»£æ£€æŸ¥æ¶æ„å›¾çš„å‡†ç¡®æ€§